
### Linux Shell 脚本优化提示词框架

```markdown
## 🐚 Linux Shell 脚本开发与优化提示词框架

### 📋 1. 脚本基础信息模板
**脚本名称**：`[脚本名称].sh`
**主要功能**：[简要描述脚本核心功能]
**目标环境**：[操作系统、依赖环境等]
**版本信息**：v[版本号] ([最后更新日期])

### 🔄 2. 执行逻辑顺序（标准流程）
请按实际调用顺序列出脚本的核心执行步骤：

```
1) [第一阶段]: [主要操作描述]
2) [第二阶段]: [主要操作描述] 
3) [第三阶段]: [主要操作描述]
...
N) [最后阶段]: [清理和收尾工作]
```

### ✅ 3. 自检清单（质量标准）
实时维护代码质量检查清单，包括但不限于：

```
# 代码规范类
1) [ ] 变量命名符合规范（小写+下划线）
2) [ ] 所有函数头部有单行注释说明用途
3) [ ] 魔法数字已消除，使用常量定义
4) [ ] 错误处理完整（set -Eeuo pipefail）

# 功能安全类  
5) [ ] 输入参数验证和过滤
6) [ ] 资源使用后正确释放
7) [ ] 权限控制符合最小权限原则
8) [ ] 敏感信息不硬编码在脚本中

# 性能优化类
9) [ ] 并发操作有适当的控制机制
10) [ ] 网络请求设置合理的超时时间
11) [ ] 避免不必要的重复计算或IO操作
12) [ ] 日志输出级别和频率适当

# 用户体验类
13) [ ] 错误信息清晰易懂
14) [ ] 进度提示明确
15) [ ] 支持调试模式
16) [ ] 提供帮助信息
```

### 📝 4. 修改记录（变更历史）
维护详细的变更历史，格式：

```
[YYYY-MM-DD]: [修改类型] [具体修改内容]
[YYYY-MM-DD]: [修改类型] [具体修改内容]
```

**修改类型分类**：
- `BUGFIX`: 修复已知问题
- `FEATURE`: 新增功能
- `OPTIMIZE`: 性能优化
- `REFACTOR`: 代码重构
- `SECURITY`: 安全相关
- `DOCS`: 文档更新

### 🛠️ 5. 技术实现要求

#### 📊 日志系统
```bash
# 必须实现的日志功能
- 分级日志（INFO/WARN/ERROR/DEBUG）
- 时间戳和调用链追踪
- 关键操作节点记录
- 日志文件轮转管理
- 敏感信息自动脱敏
```

#### ⚡ 错误处理
```bash  
# 错误处理规范
- 所有错误分支必须显式调用exit
- 保持退出状态码一致性（0=成功，非0=失败）
- 重要的清理操作使用trap确保执行
- 提供详细的错误诊断信息
```

#### 🔧 可维护性
```bash
# 代码组织要求
- 函数单一职责，粒度适当
- 常量集中定义在文件头部
- 配置参数支持外部化
- 模块化设计，便于测试
```

### 🧪 6. 测试验证要求

#### ✅ 单元测试
```
- 核心函数都有对应的测试用例
- 覆盖正常流程和异常分支
- 测试数据与生产环境隔离
```

#### 🔍 集成测试
```
- 全流程端到端测试
- 不同环境兼容性测试
- 性能压力测试
- 安全漏洞扫描
```

### 📖 7. 文档要求

#### 📚 用户文档
```
- 安装部署指南
- 使用说明和示例
- 常见问题解答
- 故障排除手册
```

#### 🔧 技术文档
```
- 架构设计说明
- API接口文档
- 数据库设计文档
- 运维部署文档
```

### 🚀 8. 后续优化方向

#### ⭐ 短期优化
```
1. [高优先级] [优化内容描述]
2. [中优先级] [优化内容描述] 
3. [低优先级] [优化内容描述]
```

#### 🌟 长期规划
```
1. [技术债清理] [具体任务]
2. [架构升级] [升级方案]
3. [生态集成] [集成目标]
```

### 💡 9. 使用示例

```bash
# 作为AI提示词使用时，可以这样描述需求：
请基于以上框架，对当前脚本进行以下优化：

## 执行逻辑顺序
需要调整[某个阶段]的执行顺序，因为[原因说明]

## 自检清单  
需要新增以下检查项：
- [ ] [新的质量要求]
- [ ] [另外的质量要求]

## 修改记录
本次修改属于[修改类型]，主要变更：
- [具体修改点1]
- [具体修改点2]

## 技术要求
请特别注意[某个技术方面]的实现质量
```

### 📋 10. 验收标准

#### ✅ 功能验收
```
- [ ] 所有需求功能实现完整
- [ ] 边界情况处理正确
- [ ] 性能指标达到要求
- [ ] 安全合规性通过验证
```

#### ✅ 质量验收  
```
- [ ] 代码通过静态检查
- [ ] 测试覆盖率达标
- [ ] 文档完整准确
- [ ] 部署流程顺畅
```

---
**维护建议**：定期回顾和更新这三个核心部分（执行逻辑、自检清单、修改记录），确保脚本始终保持高质量和可维护性。
```

这个提示词框架将您提到的三个核心要素（执行逻辑顺序、自检清单、修改记录）系统化地组织起来，形成了一个完整的Shell脚本开发和质量保证体系。您可以在与AI协作时直接使用这个框架来指导脚本的开发和优化工作。
